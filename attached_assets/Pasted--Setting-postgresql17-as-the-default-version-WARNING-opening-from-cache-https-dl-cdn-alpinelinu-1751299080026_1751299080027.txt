* Setting postgresql17 as the default version
WARNING: opening from cache https://dl-cdn.alpinelinux.org/alpine/v3.21/main: No such file or directory
WARNING: opening from cache https://dl-cdn.alpinelinux.org/alpine/v3.21/community: No such file or directory
OK: 19 MiB in 34 packages
 ---> Removed intermediate container 870fd7b0faa4
 ---> 0c6a53eea3a0
Step 3/17 : WORKDIR /app
 ---> Running in a4e27dfc6021
 ---> Removed intermediate container a4e27dfc6021
 ---> 314da405ab30
Step 4/17 : COPY package*.json ./
 ---> 0df60456ae19
Step 5/17 : RUN npm ci --only=production
 ---> Running in 6f7144b367be
npm warn config only Use `--omit=dev` to omit dev dependencies from the install.

added 504 packages, and audited 505 packages in 19s

71 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 low, 1 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
npm notice
npm notice New major version of npm available! 10.8.2 -> 11.4.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.4.2
npm notice To update run: npm install -g npm@11.4.2
npm notice
 ---> Removed intermediate container 6f7144b367be
 ---> af682a4c242b
Step 6/17 : COPY . .
 ---> 4391dfb2751f
Step 7/17 : RUN mkdir -p logs uploads dist
 ---> Running in a5c908b8cce5
 ---> Removed intermediate container a5c908b8cce5
 ---> f27352f5da34
Step 8/17 : RUN echo "🔧 Application du patch pour import.meta.dirname..." &&     cp server/vite.ts server/vite.ts.backup &&     sed -i '/import { createServer as createViteServer, createLogger } from "vite";/a import { fileURLToPath } from "url";' server/vite.ts &&     sed -i '/const viteLogger = createLogger();/i const __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n' server/vite.ts &&     sed -i 's/import\.meta\.dirname/__dirname/g' server/vite.ts &&     echo "✅ Patch appliqué avec succès" &&     if grep -q "__dirname" server/vite.ts && ! grep -q "import\.meta\.dirname" server/vite.ts; then         echo "✅ Patch confirmé - import.meta.dirname remplacé par __dirname";     else         echo "❌ Erreur de patch - restauration de la sauvegarde";         cp server/vite.ts.backup server/vite.ts;         exit 1;     fi
 ---> Running in 4343f0471134
🔧 Application du patch pour import.meta.dirname...
✅ Patch appliqué avec succès
✅ Patch confirmé - import.meta.dirname remplacé par __dirname
 ---> Removed intermediate container 4343f0471134
 ---> 8c7dce4e7d8e
Step 9/17 : RUN npm run build
 ---> Running in 40b813377cea

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.14 building for production...
transforming...
Browserslist: browsers data (caniuse-lite) is 8 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
