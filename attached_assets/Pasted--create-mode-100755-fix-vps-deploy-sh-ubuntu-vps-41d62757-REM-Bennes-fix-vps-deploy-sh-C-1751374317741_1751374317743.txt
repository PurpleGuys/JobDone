
 create mode 100755 fix-vps-deploy.sh
ubuntu@vps-41d62757:~/REM-Bennes$ ./fix-vps-deploy.sh
🔧 CORRECTION DÉPLOIEMENT VPS
=============================
📁 1. Préparation fichiers locaux...
✅ .env local créé
🏗️ 2. Construction application...
✅ Application construite
📦 3. Création archive corrigée...
✅ Archive créée
🚀 4. Transfert et correction VPS...
The authenticity of host '162.19.67.3 (162.19.67.3)' can't be established.
ED25519 key fingerprint is SHA256:Mmh1malKmylT+6HZmkp9UywRNUFuud0INQNT7CtgZac.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '162.19.67.3' (ED25519) to the list of known hosts.
ubuntu@162.19.67.3's password:
bennespro-fixed.tar.gz                                                                                                                                                      100%  904KB  75.6MB/s   00:00
Pseudo-terminal will not be allocated because stdin is not a terminal.
ubuntu@162.19.67.3's password:
Welcome to Ubuntu 24.10 (GNU/Linux 6.11.0-29-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Jul  1 12:49:06 UTC 2025

  System load:           0.15
  Usage of /:            22.0% of 154.05GB
  Memory usage:          15%
  Swap usage:            0%
  Processes:             240
  Users logged in:       1
  IPv4 address for ens3: 162.19.67.3
  IPv6 address for ens3: 2001:41d0:304:200::12d0

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

0 updates can be applied immediately.

New release '25.04' available.
Run 'do-release-upgrade' to upgrade to it.


📂 Mise à jour application sur VPS...
📋 Création .env production...
📦 Installation dépendances...
npm warn config only Use `--omit=dev` to omit dev dependencies from the install.

added 510 packages, and audited 511 packages in 14s

74 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 low, 1 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
✅ Correction terminée

🎉 CORRECTION TERMINÉE !
=======================
Maintenant vous pouvez ré-exécuter :
./deploy-production.sh

Ou continuer manuellement avec :
ssh ubuntu@162.19.67.3
✅ Fichiers corrigés et transférés
ubuntu@vps-41d62757:~/REM-Bennes$ sudo ./deploy-production.sh
sudo: ./deploy-production.sh: command not found
ubuntu@vps-41d62757:~/REM-Bennes$ chmod +x ./deploy-production.sh
ubuntu@vps-41d62757:~/REM-Bennes$ sudo ./deploy-production.sh
🚀 DÉPLOIEMENT PRODUCTION BENNESPRO
====================================
VPS: 162.19.67.3
Domain: purpleguy.world
App: bennespro

📦 1. Construction de l'application...
✅ Application construite
📋 2. Préparation des fichiers...
✅ Archive créée: bennespro-production.tar.gz
🌐 3. Transfert vers VPS...
The authenticity of host '162.19.67.3 (162.19.67.3)' can't be established.
ED25519 key fingerprint is SHA256:Mmh1malKmylT+6HZmkp9UywRNUFuud0INQNT7CtgZac.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '162.19.67.3' (ED25519) to the list of known hosts.
ubuntu@162.19.67.3's password:
bennespro-production.tar.gz                                                                                                                                                 100%  904KB  64.8MB/s   00:00
✅ Fichiers transférés
⚙️ 4. Installation sur VPS...
Pseudo-terminal will not be allocated because stdin is not a terminal.
ubuntu@162.19.67.3's password:
Welcome to Ubuntu 24.10 (GNU/Linux 6.11.0-29-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Jul  1 12:50:36 UTC 2025

  System load:           0.27
  Usage of /:            22.3% of 154.05GB
  Memory usage:          15%
  Swap usage:            0%
  Processes:             245
  Users logged in:       1
  IPv4 address for ens3: 162.19.67.3
  IPv6 address for ens3: 2001:41d0:304:200::12d0

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

0 updates can be applied immediately.

New release '25.04' available.
Run 'do-release-upgrade' to upgrade to it.


📦 Installation système...

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://nova.clouds.archive.ubuntu.com/ubuntu oracular InRelease
Hit:2 http://nova.clouds.archive.ubuntu.com/ubuntu oracular-updates InRelease
Hit:3 http://nova.clouds.archive.ubuntu.com/ubuntu oracular-backports InRelease
Hit:4 https://download.docker.com/linux/ubuntu oracular InRelease
Hit:5 https://deb.nodesource.com/node_18.x nodistro InRelease
Hit:6 http://security.ubuntu.com/ubuntu oracular-security InRelease
Reading package lists...
Building dependency tree...
Reading state information...
2 packages can be upgraded. Run 'apt list --upgradable' to see them.

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
Error: Unable to locate package pm2
