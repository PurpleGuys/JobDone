ubuntu@vps-41d62757:~/REM-Bennes$ ./https-deployment.sh
🔐 Déploiement HTTPS PRODUCTION - purpleguy.world
=================================================
🔍 Vérifications préalables...
📡 Vérification DNS pour purpleguy.world...
🛑 Arrêt des services...
Removing network rem-bennes_default
WARNING: Network rem-bennes_default not found.
📁 Création des dossiers SSL...
⚙️  Application de la configuration HTTPS...
🚀 Démarrage temporaire pour validation SSL...
52e1ef4832e6846b4df47a25dcbc8609a50e06a7ed7a5c8a84e6f57111590b8a
docker: Error response from daemon: driver failed programming external connectivity on endpoint nginx-temp (43d9568120abec992729ae010602189e8cde2692914a4e1df3df5599f587106d): failed to bind port 0.0.0.0:80/tcp: Error starting userland proxy: listen tcp4 0.0.0.0:80: bind: address already in use.
🔐 Obtention du certificat SSL Let's Encrypt...
   Mode PRODUCTION
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Requesting a certificate for purpleguy.world and www.purpleguy.world

Certbot failed to authenticate some domains (authenticator: webroot). The Certificate Authority reported these problems:
  Domain: www.purpleguy.world
  Type:   unauthorized
  Detail: 162.19.67.3: Invalid response from https://www.purpleguy.world/.well-known/acme-challenge/GhubNLFW8rVFJgT0XmPPXIpsEbdtXxjbDzkS0pyNjAo: 404

Hint: The Certificate Authority failed to download the temporary challenge files created by Certbot. Ensure that the listed domains serve their content from the provided --webroot-path/-w and that files created there can be downloaded from the internet.

Some challenges have failed.
Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.
❌ Échec de l'obtention du certificat SSL
Vérifiez:
  - DNS configuré correctement
  - Port 80 accessible
  - Domaine valide
nginx-temp
nginx-temp
ubuntu@vps-41d62757:~/REM-Bennes$ ^C
ubuntu@vps-41d62757:~/REM-Bennes$ [200~dig @8.8.8.8 purpleguy.world
[200~dig: command not found
ubuntu@vps-41d62757:~/REM-Bennes$ dig @8.8.8.8 purpleguy.world

; <<>> DiG 9.20.0-2ubuntu3.2-Ubuntu <<>> @8.8.8.8 purpleguy.world
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 27274
;; flags: qr rd ra ad; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;purpleguy.world.               IN      A

;; ANSWER SECTION:
purpleguy.world.        3600    IN      A       162.19.67.3

;; Query time: 29 msec
;; SERVER: 8.8.8.8#53(8.8.8.8) (UDP)
;; WHEN: Mon Jun 30 14:53:26 UTC 2025
;; MSG SIZE  rcvd: 60

ubuntu@vps-41d62757:~/REM-Bennes$
